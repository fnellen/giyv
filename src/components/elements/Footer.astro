---
import Icon from "astro-icon";
import GroupFooterNav from "../blocks/GroupFooterNav.astro";
import Container from "../shared/Container.astro";
import FooterNav from "../shared/FooterNav.astro";
import Logo from "../shared/Logo.astro";
import Paragraph from "../shared/Paragraph.astro";

import { l, t } from "astro-i18n";

const localizations = [
  {
    itemText: "Deutsch",
    itemLink: l(Astro.url.pathname, undefined, { targetLocale: "de" }),
  },
  {
    itemText: "Italiano",
    itemLink: l(Astro.url.pathname, undefined, { targetLocale: "it" }),
  },
  {
    itemText: "English",
    itemLink: l(Astro.url.pathname, undefined, { targetLocale: "en" }),
  },
];

const footerCompany = [
  {
    itemText: t("nav.about"),
    itemLink: l("/ueber-uns"),
  },
  {
    itemText: "Blog",
    itemLink: l("/blog"),
  },
  {
    itemText: t("nav.contact"),
    itemLink: l("/kontakt"),
  },
  {
    itemText: "Villa Vigoni",
    itemLink: "https://www.villavigoni.eu",
  },
];
const footerLegal = [
  {
    itemText: t("footer.impressum"),
    itemLink: l("/impressum"),
  },
  {
    itemText: t("footer.datenschutz"),
    itemLink: l("/privacy-policy"),
  },
];
---

<div class="mt-16"></div>
<footer
  class="relative bg-gradient-to-tr from-gray-100 to-gray-200 dark:from-gray-900 pt-28 rounded-t-3xl"
>
  <div class="absolute right-0 top-0 h-full w-full flex justify-end">
    <div class="w-28 h-28 overflow-hidden flex rounded-xl relative blur-2xl">
      <span
        class="absolute w-16 h-16 -top-1 -right-1 bg-green-500 rounded-md rotate-45"
      ></span>
      <span
        class="absolute w-16 h-16 -bottom-1 -right-1 bg-[#FCDC58] rounded-md rotate-45"
      ></span>
      <span
        class="absolute w-16 h-16 -bottom-1 -left-1 bg-primary rounded-md rotate-45"
      ></span>
    </div>
  </div>

  <div class="absolute left-0 bottom-0 h-full w-full flex items-end">
    <div class="w-28 h-28 overflow-hidden flex rounded-xl relative blur-2xl">
      <span
        class="absolute w-16 h-16 -top-1 -right-1 bg-green-500 rounded-md rotate-45"
      ></span>
      <span
        class="absolute w-16 h-16 -bottom-1 -right-1 bg-[#FCDC58] rounded-md rotate-45"
      ></span>
      <span
        class="absolute w-16 h-16 -bottom-1 -left-1 bg-primary rounded-md rotate-45"
      ></span>
    </div>
  </div>
  <Container className="pb-8 relative overflow-hidden">
    <span
      class="absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 blur-2xl opacity-20 w-24 h-16 sm:w-48 sm:h-36 rounded-full rotate-12 skew-x-6 bg-primary"
    ></span>
    <div
      class="grid grid-cols-2 lg:grid-cols-3 lg:items-stretch gap-8 relative"
    >
      <div class="col-span-2 lg:col-span-1 h-auto flex flex-col">
        <div class="h-full">
          <a href={l("/")} class="relative flex items-center gap-3">
            <Logo className="w-12 h-12" />
            <div class="inline-flex text-lg font-semibold text-heading-1">
              German-Italian<br />Young Voices
            </div>
          </a>
          <Paragraph className={"mt-8"}>
            German-Italian Young Voices is a group of young people that aim to
            promote the exchange between Germany and Italy.
          </Paragraph>
        </div>

        <!-- social links -->
        <div class="min-h-max flex items-center gap-4 text-heading-3 mt-8">
          <a
            href="https://www.instagram.com/giyv_eu"
            class="transition hover:text-heading-1 hover:scale-105 flex flew-row gap-2"
            target="_blank"
          >
            FOLLOW US
            <Icon name="mdi:instagram " className="w-6 h-6" />
            <span class="sr-only">social link</span>
          </a>
        </div>
      </div>

      <GroupFooterNav>
        <FooterNav title={t("footer.site")} navItems={footerCompany} />
        <FooterNav title={t("footer.languages")} navItems={localizations} />
      </GroupFooterNav>

      <GroupFooterNav>
        <FooterNav title={t("footer.resources")} navItems={footerLegal}>
          <button data-cc="show-preferencesModal" type="button">
            {t("footer.cookie_preferences")}
          </button>
        </FooterNav>
      </GroupFooterNav>
    </div>
  </Container>
  <div class="bg-gradient-to-tl from-box-bg py-2 relative">
    <Container>
      <div
        class="flex justify-between items-center gap-6 md:text-lg text-heading-3"
      >
        <div>
          &copy; <span id="year"></span> German-Italian Young Voices. {
            t("footer.all_rights_reserved")
          }
        </div>
        <div>
          Made with ❤️ by <a
            style="text-decoration: none"
            href="https://www.linkedin.com/in/federico-nellen/"
            class="text-primary">Federico Nellen</a
          >
        </div>
      </div>
    </Container>
  </div>
</footer>
